import React,{useState}from'react';export default function AIChat(){const[q,setQ]=useState('Hvordan kommer jeg i gang?');const[a,setA]=useState(null);const ask=async()=>{const r=await fetch('/api/ai/ask',{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify({prompt:q,surface:'portal'})});const j=await r.json();setA(j);};const sendFeedback=async(useful)=>{await fetch('/api/ai/feedback',{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify({surface:'portal',prompt:q,response_id:'',useful})});alert('Takk for tilbakemelding!');};return <div style={{maxWidth:700,margin:'20px auto',fontFamily:'system-ui'}}><h1>AI-assistent</h1><p>Still et spørsmål.</p><textarea value={q} onChange={e=>setQ(e.target.value)} style={{width:'100%',minHeight:80,border:'1px solid #ddd',borderRadius:8,padding:10}}/><div style={{marginTop:10}}><button onClick={ask}>Spør</button></div>{a && <div style={{marginTop:20,padding:12,border:'1px solid #eee',borderRadius:8,background:'#fafafa'}}><div style={{whiteSpace:'pre-wrap'}}>{a.text}</div><div style={{marginTop:10}}><button onClick={()=>sendFeedback(true)}>👍 Nyttig</button><button onClick={()=>sendFeedback(false)} style={{marginLeft:8}}>👎 Ikke nyttig</button></div>{Array.isArray(a.citations)&&a.citations.length>0 && <div style={{marginTop:10,fontSize:12,opacity:0.8}}>Kilder: {a.citations.map(c=><span key={c.id} style={{marginRight:8}}>{c.title||('Doc '+c.id)}</span>)}</div>}</div>}</div>;}