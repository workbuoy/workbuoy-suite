import { generateSuggestions } from '../../../../lib/ai/suggestions.js';import { resolveTenantId } from '../../../../lib/middleware/tenant.js';import { aiSuggestionsByTenant } from '../../../../lib/metrics/registry.js';export default async function handler(req,res){const tenant_id=resolveTenantId(req);if(req.method!=='POST')return res.status(405).json({error:'method_not_allowed'});const {surface='portal',goal='lukk saker raskt'}=req.body||{};const list=await generateSuggestions({tenant_id,surface,goal});try{aiSuggestionsByTenant.labels(tenant_id||'enterprise',surface).inc();}catch(_){}res.json({suggestions:list});}