import { getTicket, updateTicket } from '../../../../lib/ai/skills/tickets.js';import { resolveTenantId } from '../../../../lib/middleware/tenant.js';export default async function handler(req,res){const tenant_id=resolveTenantId(req);if(req.method==='GET'){const {id}=req.query;const t=await getTicket(tenant_id,id);return res.json(t||{});}else if(req.method==='POST'){const {id,status,assignee}=req.body||{};try{const r=await updateTicket(tenant_id,id,{status,assignee});return res.json({ok:true,...r});}catch(e){return res.status(500).json({error:'db_error'});} }res.status(405).json({error:'method_not_allowed'});}