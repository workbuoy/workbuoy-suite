openapi: 3.0.3
info:
  title: WorkBuoy CRM API (Base Schemas)
  version: 1.0.0
components:
  schemas:
    Contact:
      type: object
      required: [tenant_id, name]
      properties:
        id: { type: string, format: uuid }
        tenant_id: { type: string }
        name: { type: string }
        email: { type: string, format: email }
        phone: { type: string }
        organization_id: { type: string }
        owner_id: { type: string }
        tags: { type: array, items: { type: string } }
        custom_fields: { type: object, additionalProperties: true }
        created_at: { type: string, format: date-time }
        updated_at: { type: string, format: date-time }
    Organization:
      type: object
      required: [tenant_id, name]
      properties:
        id: { type: string }
        tenant_id: { type: string }
        name: { type: string }
        website: { type: string }
        domain: { type: string }
        owner_id: { type: string }
        tags: { type: array, items: { type: string } }
        custom_fields: { type: object, additionalProperties: true }
        created_at: { type: string, format: date-time }
        updated_at: { type: string, format: date-time }
    Pipeline:
      type: object
      required: [tenant_id, name]
      properties:
        id: { type: string }
        tenant_id: { type: string }
        name: { type: string }
        description: { type: string }
        owner_id: { type: string }
        tags: { type: array, items: { type: string } }
        custom_fields: { type: object, additionalProperties: true }
        created_at: { type: string, format: date-time }
        updated_at: { type: string, format: date-time }
    Stage:
      type: object
      required: [tenant_id, pipeline_id, name, sort_index]
      properties:
        id: { type: string }
        tenant_id: { type: string }
        pipeline_id: { type: string }
        name: { type: string }
        sort_index: { type: integer }
        owner_id: { type: string }
        tags: { type: array, items: { type: string } }
        custom_fields: { type: object, additionalProperties: true }
        created_at: { type: string, format: date-time }
        updated_at: { type: string, format: date-time }
    Opportunity:
      type: object
      required: [tenant_id, pipeline_id, stage_id, title]
      properties:
        id: { type: string }
        tenant_id: { type: string }
        pipeline_id: { type: string }
        stage_id: { type: string }
        organization_id: { type: string }
        title: { type: string }
        value_cents: { type: integer }
        currency: { type: string }
        status: { type: string, enum: [open, won, lost] }
        owner_id: { type: string }
        tags: { type: array, items: { type: string } }
        custom_fields: { type: object, additionalProperties: true }
        created_at: { type: string, format: date-time }
        updated_at: { type: string, format: date-time }